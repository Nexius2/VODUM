<!-- LEFT: FORM -->
<div class="lg:col-span-7 bg-slate-900 border border-slate-800 rounded-2xl p-6">

  <h2 class="text-sm uppercase tracking-wide text-slate-400 mb-3">
    {{ t("target_users") }}
  </h2>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-3">
    <!-- ALL USERS -->
    <label class="cursor-pointer">
      <input type="radio"
             name="target_type"
             value="all"
             checked
             class="hidden"
             onchange="toggleServerSelect(false)">

      <div id="card-all"
           class="p-4 rounded-xl border border-primary bg-primary/10">
        <div class="font-medium mb-1">{{ t("all_users") }}</div>
        <div class="text-sm text-slate-400">{{ t("subscriptions_all_users_hint") }}</div>
      </div>
    </label>

    <!-- USERS FROM SERVER -->
    <label class="cursor-pointer">
      <input type="radio"
             name="target_type"
             value="server"
             class="hidden"
             onchange="toggleServerSelect(true)">

      <div id="card-server"
           class="p-4 rounded-xl border border-slate-800">
        <div class="font-medium mb-1">{{ t("users_from_server") }}</div>
        <div class="text-sm text-slate-400">{{ t("subscriptions_server_users_hint") }}</div>
      </div>
    </label>
  </div>

  <!-- SERVER SELECT (hidden unless server mode) -->
  <div id="server-select" class="mt-3 max-w-sm hidden">
    <select name="server_id"
            class="bg-slate-950 border border-slate-800 rounded-lg px-3 py-2 text-sm w-full">
      <option value="">{{ t("select_server") }}</option>
      {% for server in servers %}
        <option value="{{ server.id }}">{{ server.name }}</option>
      {% endfor %}
    </select>
  </div>

  <h2 class="text-sm uppercase tracking-wide text-slate-400 mt-8 mb-3">
    {{ t("gift_duration") }}
  </h2>

  <div class="grid grid-cols-2 md:grid-cols-3 gap-3 mb-8">
    {% set durations = [
      (1, t("one_day")),
      (7, t("seven_days")),
      (30, t("one_month")),
      (90, t("three_months")),
      (180, t("six_months")),
      (365, t("one_year"))
    ] %}

    {% for value, label in durations %}
      <label class="cursor-pointer">
        <input type="radio"
               name="days"
               value="{{ value }}"
               class="hidden"
               {% if loop.first %}checked{% endif %}
               onchange="selectDuration(this)">

        <div class="duration-card text-center p-3 rounded-xl border
          {% if loop.first %}
            border-emerald-400 bg-emerald-400/10
          {% else %}
            border-slate-800
          {% endif %}">
          <span class="font-medium">{{ label }}</span>
        </div>
      </label>
    {% endfor %}
  </div>

  <h2 class="text-sm uppercase tracking-wide text-slate-400 mb-3">
    {{ t("options") }}
  </h2>

  <div class="max-w-md mb-4">
    <input type="text"
           name="reason"
           placeholder="{{ t('reason_placeholder') }}"
           class="bg-slate-950 border border-slate-800 rounded-lg px-3 py-2 text-sm w-full">
  </div>

  <div class="text-sm text-slate-400 mb-8">
    {{ t("subscription_reset_notice") }}
  </div>

  <div class="flex justify-end">
    <button type="submit"
            class="px-5 py-2 rounded-lg bg-primary hover:bg-primary-dark text-white font-medium">
      üéÅ {{ t("gift_subscription") }}
    </button>
  </div>

</div>
<!-- /LEFT -->
