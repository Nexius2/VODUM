{% extends "base.html" %}
{% set active_page = "settings" %}

{% block header_title %}{{ t("settings") }}{% endblock %}
{% block header_subtitle %}{{ t("settings_subtitle") }}{% endblock %}

{% block header_actions %}
<button type="submit" form="settings-form"
        class="px-4 py-2 bg-primary hover:bg-primary-dark rounded text-white text-sm">
  {{ t("save") }}
</button>
{% endblock %}

{% block content %}
<form method="POST" id="settings-form" class="grid grid-cols-1 xl:grid-cols-2 gap-8">

  {% include "settings/partials/_settings_general.html" %}
  {% include "settings/partials/_settings_subscription.html" %}
  {% include "settings/partials/_settings_notifications.html" %}
  {% include "settings/partials/_settings_system.html" %}

</form>

<script>
  // Toggle admin password (mÃªme comportement que Mailing)
  document.addEventListener("DOMContentLoaded", () => {
    const input = document.getElementById("admin_password");
    const btn   = document.getElementById("toggle_admin_password");
    if (!input || !btn) return;

    btn.addEventListener("click", () => {
      if (input.type === "password") {
        input.type = "text";
        btn.textContent = "ğŸ™ˆ";
      } else {
        input.type = "password";
        btn.textContent = "ğŸ‘ï¸";
      }
    });
  });
</script>


{% endblock %}
