<div class="bg-slate-900 border border-slate-800 rounded-2xl p-5">
  <div class="flex items-center justify-between mb-4">
    <div class="text-sm font-semibold">Users</div>
    <div class="text-xs text-slate-400">30 rows / page</div>
  </div>

  {% if rows is not defined %}
    <div class="text-slate-500">
      Backend not wired yet: variable <code class="text-slate-300">rows</code> missing.
    </div>
  {% else %}
    <div class="overflow-x-auto">
      <table class="w-full text-sm">
        <thead>
          <tr class="text-left text-slate-400 border-b border-slate-800">
            <th class="py-2 pr-4">User</th>
            <th class="py-2 pr-4">Last watch</th>
            <th class="py-2 pr-4">Plays</th>
            <th class="py-2 pr-4">Watch time</th>
            <th class="py-2 pr-4">IP</th>
            <th class="py-2 pr-4">Platform</th>
            <th class="py-2 pr-4">Player</th>
          </tr>
        </thead>
        <tbody>
          {% for u in rows %}
            <tr class="border-b border-slate-800">
              <td class="py-3 pr-4 font-semibold">{{ u.username or "-" }}</td>
              <td class="py-3 pr-4">{{ u.last_watch_at|tz or "-" }}</td>
              <td class="py-3 pr-4">{{ u.total_plays or 0 }}</td>
              <td class="py-3 pr-4">{{ u.watch_time or "0h 0m" }}</td>
              <td class="py-3 pr-4">{{ u.last_ip or "-" }}</td>
              <td class="py-3 pr-4">{{ u.platform or "-" }}</td>
              <td class="py-3 pr-4">{{ u.player or "-" }}</td>
            </tr>
          {% endfor %}
          {% if rows|length == 0 %}
            <tr><td colspan="7" class="py-6 text-slate-500">No users yet.</td></tr>
          {% endif %}
        </tbody>
      </table>
    </div>

    {% if pagination is defined %}
      {% include "monitoring/partials/_pagination.html" %}
    {% endif %}
  {% endif %}
</div>
