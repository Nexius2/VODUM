<div class="bg-slate-900 border border-slate-800 rounded-2xl p-5">
  <div class="text-sm font-semibold mb-4">Now Playing</div>

  {% if sessions and sessions|length > 0 %}
    <div class="grid gap-4 [grid-template-columns:repeat(auto-fit,minmax(300px,1fr))]">
      {% for s in sessions %}
        <div class="bg-slate-950/40 border border-slate-800 rounded-2xl p-4">
          <div class="flex flex-wrap gap-2 mb-3">
            <span class="text-xs px-2 py-1 rounded-full border border-slate-700">{{ s.provider }}</span>
            {% if s.is_transcode %}
              <span class="text-xs px-2 py-1 rounded-full border border-orange-500 text-orange-300">Transcoding</span>
            {% else %}
              <span class="text-xs px-2 py-1 rounded-full border border-emerald-600 text-emerald-300">Direct Play</span>
            {% endif %}
            <span class="text-xs px-2 py-1 rounded-full border border-slate-700">{{ s.server_name }}</span>
          </div>

          <div class="text-lg font-semibold">
            {{ s.title or "-" }}
            {% if s.grandparent_title %}
              <span class="text-slate-400"> · {{ s.grandparent_title }}</span>
            {% endif %}
          </div>

          <div class="text-sm text-slate-400 mt-2">
            User: <span class="text-slate-200">{{ s.username or "-" }}</span>
            · State: <span class="text-slate-200">{{ s.state or "-" }}</span>
            · Client: <span class="text-slate-200">{{ s.client_name or "-" }}</span>
          </div>

          <div class="text-xs text-slate-500 mt-2">
            Last seen: {{ s.last_seen_at|tz }}
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="text-slate-500">No active session.</div>
  {% endif %}
</div>
